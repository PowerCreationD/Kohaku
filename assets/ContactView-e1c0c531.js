import{_ as D}from"./PageTitle-b62afe96.js";import{_ as k,o as v,c as b,a as s,z as j,q as l,v as h,s as m,t as i,F as y,r as z,x as M,h as w,A as f,p as P,f as E,k as x,g as C,w as $}from"./index-7c6fdac6.js";const g={_origin:"https://api.emailjs.com"},q=(t,e="https://api.emailjs.com")=>{g._userID=t,g._origin=e},T=(t,e,a)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class F{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const S=(t,e,a={})=>new Promise((p,o)=>{const r=new XMLHttpRequest;r.addEventListener("load",({target:n})=>{const d=new F(n);d.status===200||d.text==="OK"?p(d):o(d)}),r.addEventListener("error",({target:n})=>{o(new F(n))}),r.open("POST",g._origin+t,!0),Object.keys(a).forEach(n=>{r.setRequestHeader(n,a[n])}),r.send(e)}),V=(t,e,a,p)=>{const o=p||g._userID;return T(o,t,e),S("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:o,service_id:t,template_id:e,template_params:a}),{"Content-type":"application/json"})},U=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},N=(t,e,a,p)=>{const o=p||g._userID,r=U(a);T(o,t,e);const n=new FormData(r);return n.append("lib_version","3.11.0"),n.append("service_id",t),n.append("template_id",e),n.append("user_id",o),S("/api/v1.0/email/send-form",n)},A={init:q,send:V,sendForm:N};const I={name:"formComponent",data(){return{formPage:1,popup:0,sending:0,selectedProjectTypes:{value:[],error:void 0,msg:void 0},budget:{value:void 0,error:void 0,msg:void 0},date:{value:{startDate:void 0,endDate:void 0},error:void 0,msg:void 0},description:{value:void 0,error:void 0,msg:void 0},person:{value:void 0,error:void 0,msg:void 0},company:{value:void 0,error:void 0,msg:void 0},phone:{value:void 0,error:void 0,msg:void 0},email:{value:void 0,error:void 0,msg:void 0},projectTypes:[{id:"system",name:this.$t("contact.form.project_types.system")},{id:"design",name:this.$t("contact.form.project_types.design")},{id:"content",name:this.$t("contact.form.project_types.content")}]}},methods:{validate(){const t=this.selectedProjectTypes,e=this.budget,a=this.date,p=a.value.startDate,o=a.value.endDate,r=this.description,n=this.person,d=this.company,u=this.phone,c=this.email;if(this.formPage==1)t.value.length?(t.error=!1,t.msg=""):(t.error=!0,t.msg=this.$t("contact.form.validation.required")),!e.value||e.value=="0"?(e.error=!0,e.msg=this.$t("contact.form.validation.required")):(e.error=!1,e.msg=""),!p|!o?(a.error=!0,a.msg=this.$t("contact.form.validation.required")):(a.error=!1,a.msg=""),r.value?(r.error=!1,r.msg=""):(r.error=!0,r.msg=this.$t("contact.form.validation.required")),!t.error&&!e.error&&!a.error&&!r.error&&this.formPage++,this.scroll();else{if(n.value?(n.error=!1,n.msg=""):(n.error=!0,n.msg=this.$t("contact.form.validation.required")),d.value?(d.error=!1,d.msg=""):(d.error=!0,d.msg=this.$t("contact.form.validation.required")),u.value?(u.error=!1,u.msg=""):(u.error=!0,u.msg=this.$t("contact.form.validation.required")),!c.value)c.error=!0,c.msg=this.$t("contact.form.validation.required");else{const _=/\S+@\S+\.\S+/;String(c.value).match(_)?(c.error=!1,c.msg=""):(c.error=!0,c.msg=this.$t("contact.form.validation.mail_format"))}!n.error&&!d.error&&!u.error&&!c.error?this.popup=1:this.scroll()}},handleSubmit(){this.validate()},scroll(){let t=document.querySelector(".header").clientHeight+24;window.scrollTo({behavior:"smooth",top:document.querySelector(".form").getBoundingClientRect().top-document.body.getBoundingClientRect().top-t})},sendEmail(){let t=[];this.selectedProjectTypes.value.map(_=>{t.push(_.name)});let e=t.join("、"),a=this.budget.value,p=`${this.date.value.startDate} ~ ${this.date.value.endDate}`,o=this.description.value,r=this.person.value,n=this.company.value,d=this.phone.value,u=this.email.value;const c={user_name:`${r}`,user_email:`${u}`,message:`
        <div style="background: #F5F5F5; padding:5%; font-family: font-family: 'Ubuntu', sans-serif;">
            <div style="background: #FFFFFF;">
                <div style="width: 100%; height: 8px; background: #E6AE4A;"></div>
                <div style="padding: 6%;">
                    <div style="width:100%; display:flex; justify-content: flex-start;">
                        <img src="https://upload.cc/i1/2023/05/31/ZdgQ2u.png" alt="Kohaku" style="width:154px; margin-left:0;">
                    </div>
                    <div style="margin: 39px 0 28px 0;">
                        <article style="font-size: 16px;">
                            <p style="margin: 0;">感謝您！</p>
                            <p style="margin: 0;">我們已收到您的來信，將在確認內容後儘速與您接洽！</p>
                            <p style="margin: 0;">期待與您共同描繪屬於您的理想藍圖。</p>
                            <br>
                            <p style="margin: 0;">以下是您的填寫內容：</p>
                        </article>
                    </div>
                    <div style="padding:28px 0; border-top: 1px solid #C4C4C4; border-bottom: 1px solid #C4C4C4;">
                        <h3 style="margin: 0 0 16px 0; font-size:20px;">專案類型</h3>
                        <p style="margin:0; font-size: 16px;">${e}</p>
                    </div>
                    <div style="padding:28px 0; border-bottom: 1px solid #C4C4C4;">
                        <h3 style="margin: 0 0 16px 0; font-size:20px;">預算</h3>
                        <p style="margin:0; font-size: 16px;">${a} 元</p>
                    </div>
                    <div style="padding:28px 0;border-bottom: 1px solid #C4C4C4;">
                        <h3 style="margin: 0 0 16px 0; font-size:20px;">預估專案時間</h3>
                        <p style="margin:0; font-size: 16px;">${p}</p>
                    </div>
                    <div style="padding:28px 0;border-bottom: 1px solid #C4C4C4;">
                        <h3 style="margin: 0 0 16px 0; font-size:20px;">專案內容概述</h3>
                        <p style="margin:0; font-size: 16px; white-space: pre-line;">${o}</p>
                    </div>
                    <div style="padding:28px 0;border-bottom: 1px solid #C4C4C4;">
                        <h3 style="margin: 0 0 16px 0; font-size:20px;">聯絡人</h3>
                        <p style="margin:0; font-size: 16px;">${r}</p>
                    </div>
                    <div style="padding:28px 0;border-bottom: 1px solid #C4C4C4;">
                        <h3 style="margin: 0 0 16px 0; font-size:20px;">公司 / 品牌名稱</h3>
                        <p style="margin:0; font-size: 16px;">${n}</p>
                    </div>
                    <div style="padding:28px 0;border-bottom: 1px solid #C4C4C4;">
                        <h3 style="margin: 0 0 16px 0; font-size:20px;">聯絡電話</h3>
                        <a style="margin:0; font-size: 16px; color:#000000">${d}</a>
                    </div>
                    <div style="padding:28px 0;border-bottom: 1px solid #C4C4C4;">
                        <h3 style="margin: 0 0 16px 0; font-size:20px;">聯絡信箱</h3>
                        <a href="${u}" style="margin:0; font-size: 16px; text-decoration: none; color: #000000;">
                            ${u}</a>
                    </div>
                </div>
                <footer style="background: #3E3A39; color:#FFFFFF; padding:48px 6%; margin-top:105px">
                    <h1 style="font-size: 20px; margin:0 0 8px 0">琥白 KOHAKU</h1>
                    <h2 style="font-size: 16px; margin:0 0 28px 0">RESEARCH x CONCEPT = SOLUTION</h2>
                    <br>
                    <p style="font-size:12px; margin:0 0 12px 0;">
                        <span style="margin-right: 12px;">Time</span>
                        <span>Mon~Fri / 10:00-19:00</span>
                    </p>
                    <p style="font-size:12px; margin:0 0 12px 0;"">
                          <span style=" margin-right: 12px;">Address</span>
                        <a style="color: #FFFFFF;">高雄市鹽埕區大勇路11號3樓507室</a>
                    </p>
                    <p style=" font-size:12px; margin:0;">
                        <span style="margin-right: 12px;">Homepage</span>
                        <a href="https://kohakustudio.co"
                            style="text-decoration: none; color: #FFFFFF;">https://kohakustudio.co</a>
                    </p>
                </footer>
            </div>
        </div>
        `};this.sending=1,A.send("smtpmail","contact_form",c,"mwaTjvTw4wztWGKUq").then(_=>{this.sending=0,this.popup=2,console.log("SUCCESS!",_.text),this.resetForm()},_=>{this.sending=0,this.popup=0,alert("FAILED..."),console.log("FAILED...",_.text)})},resetForm(){this.formPage=1,this.selectedProjectTypes={value:[],error:void 0,msg:void 0},this.budget={value:void 0,error:void 0,msg:void 0},this.date={value:{startDate:void 0,endDate:void 0},error:void 0,msg:void 0},this.description={value:void 0,error:void 0,msg:void 0},this.person={value:void 0,error:void 0,msg:void 0},this.company={value:void 0,error:void 0,msg:void 0},this.phone={value:void 0,error:void 0,msg:void 0},this.email={value:void 0,error:void 0,msg:void 0}}},watch:{budget:{handler(t){if(!t.value)return;const e=t.value.replace(/^0\d+/,"").replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",");this.$nextTick(()=>this.budget.value=e)},deep:!0},popup:{handler(t){t==0?document.getElementsByTagName("body")[0].style.overflowY="auto":document.getElementsByTagName("body")[0].style.overflowY="hidden"},immediate:!0}}},O=t=>(P("data-v-b67bf30a"),t=t(),E(),t),B={class:"form"},L={class:"form__page--1"},H=["errorMsg"],R={class:"form__title font-3",for:"project-type"},K={class:"form__type-checkbox"},J=["for"],Y=["id","value"],G=["errorMsg"],Q={class:"form__title font-3",for:"budget"},W=["placeholder"],X=["errorMsg"],Z={class:"form__title font-3",for:"date"},ee={id:"date",class:"form__date"},te=["max"],oe=O(()=>s("span",{class:"form__date--dash font-7"},"~",-1)),se=["min"],ne=["errorMsg"],re={class:"form__title font-3",for:"desc"},ie=["placeholder"],ae={class:"form__btns"},de={class:"form__page--2"},le=["errorMsg"],pe={class:"form__title font-3",for:"person"},ce=["errorMsg"],ue={class:"form__title font-3",for:"company"},me=["placeholder"],fe=["errorMsg"],_e={class:"form__title font-3",for:"phone"},ge=["errorMsg"],he={class:"form__title font-3",for:"email"},ve={class:"form__btns"},be={class:"background"},ye={class:"popup"},xe={class:"popup__header font-4"},Ce={class:"popup__content font-7"},Fe={class:"popup__buttons"},ke=["disabled"],we={class:"background"},Te={class:"popup"},Se={class:"popup__header font-4"},De={class:"popup__content font-7"},je={class:"popup__buttons"};function ze(t,e,a,p,o,r){return v(),b(y,null,[s("div",B,[s("form",{onSubmit:e[12]||(e[12]=j((...n)=>r.handleSubmit&&r.handleSubmit(...n),["prevent"]))},[l(s("div",L,[s("div",{class:m(["form__section form__type",{error:o.selectedProjectTypes.error}]),errorMsg:o.selectedProjectTypes.msg},[s("label",R,i(t.$t("contact.form.project_type")),1),s("div",K,[(v(!0),b(y,null,z(o.projectTypes,n=>(v(),b("div",{id:"project-type",key:n.id,class:"checkbox"},[s("label",{for:n.id,class:"checkbox__label font-7"},[l(s("input",{type:"checkbox",id:n.id,value:n,"onUpdate:modelValue":e[0]||(e[0]=d=>o.selectedProjectTypes.value=d),class:"checkbox__box"},null,8,Y),[[M,o.selectedProjectTypes.value]]),w(" "+i(n.name),1)],8,J)]))),128))])],10,H),s("div",{class:m(["form__section form__budget",{error:o.budget.error}]),errorMsg:o.budget.msg},[s("label",Q,i(t.$t("contact.form.budget")),1),l(s("input",{class:"font-7",id:"budget",type:"text",inputmode:"numeric","onUpdate:modelValue":e[1]||(e[1]=n=>o.budget.value=n),placeholder:t.$t("contact.form.budget_placeholder")},null,8,W),[[f,o.budget.value]])],10,G),s("div",{class:m(["form__section form__date-wrap",{error:o.date.error}]),errorMsg:o.date.msg},[s("label",Z,i(t.$t("contact.form.estimated_project_time")),1),s("div",ee,[l(s("input",{class:"form__date--picker font-7",type:"date","onUpdate:modelValue":e[2]||(e[2]=n=>o.date.value.startDate=n),max:o.date.value.endDate},null,8,te),[[f,o.date.value.startDate]]),oe,l(s("input",{class:"form__date--picker font-7",type:"date","onUpdate:modelValue":e[3]||(e[3]=n=>o.date.value.endDate=n),min:o.date.value.startDate},null,8,se),[[f,o.date.value.endDate]])])],10,X),s("div",{class:m(["form__section form__desc",{error:o.description.error}]),errorMsg:o.description.msg},[s("label",re,i(t.$t("contact.form.project_content_overview")),1),l(s("textarea",{id:"desc",cols:"30",rows:"10","onUpdate:modelValue":e[4]||(e[4]=n=>o.description.value=n),class:"form__desc font-7",placeholder:t.$t("contact.form.project_content_overview_placeholder")},null,8,ie),[[f,o.description.value]])],10,ne),s("div",ae,[s("button",{type:"button",class:"button button--primary form__btns--next","aria-label":"Next",onClick:e[5]||(e[5]=n=>r.validate())},i(t.$t("global.buttons.next")),1)])],512),[[h,o.formPage==1]]),l(s("div",de,[s("div",{class:m(["form__section form__person",{error:o.person.error}]),errorMsg:o.person.msg},[s("label",pe,i(t.$t("contact.form.contact_person")),1),l(s("input",{class:"font-7",id:"person",type:"text","onUpdate:modelValue":e[6]||(e[6]=n=>o.person.value=n)},null,512),[[f,o.person.value]])],10,le),s("div",{class:m(["form__section form__company",{error:o.company.error}]),errorMsg:o.company.msg},[s("label",ue,i(t.$t("contact.form.company_brand_name")),1),l(s("input",{class:"font-7",id:"company",type:"text","onUpdate:modelValue":e[7]||(e[7]=n=>o.company.value=n),placeholder:t.$t("contact.form.company_brand_name_placeholder")},null,8,me),[[f,o.company.value]])],10,ce),s("div",{class:m(["form__section form__phone",{error:o.phone.error}]),errorMsg:o.phone.msg},[s("label",_e,i(t.$t("contact.form.contact_number")),1),l(s("input",{class:"font-7",id:"phone",type:"text","onUpdate:modelValue":e[8]||(e[8]=n=>o.phone.value=n)},null,512),[[f,o.phone.value]])],10,fe),s("div",{class:m(["form__section form__email",{error:o.email.error}]),errorMsg:o.email.msg},[s("label",he,i(t.$t("contact.form.contact_email")),1),l(s("input",{class:"font-7",id:"email",type:"text","onUpdate:modelValue":e[9]||(e[9]=n=>o.email.value=n)},null,512),[[f,o.email.value]])],10,ge),s("div",ve,[s("button",{type:"button",class:"button button--secondary form__btns--prev",onClick:e[10]||(e[10]=n=>(o.formPage--,r.scroll())),"aria-label":"Prev"},i(t.$t("global.buttons.prev")),1),s("button",{type:"submit",class:"button button--primary form__btns--submit",onClick:e[11]||(e[11]=n=>r.validate()),"aria-label":"Submit"},i(t.$t("global.buttons.submit_form")),1)])],512),[[h,o.formPage==2]])],32)]),l(s("div",be,[s("div",ye,[s("div",xe,i(t.$t("contact.popup.confirm_submit")),1),s("div",Ce,i(t.$t("contact.popup.submit_form_confirmation")),1),s("div",Fe,[s("button",{class:"button button--secondary popup__buttons--back",onClick:e[13]||(e[13]=n=>o.popup=0),"aria-label":"Back"},i(t.$t("global.buttons.back")),1),s("button",{class:m(["button button--primary popup__buttons--submit",{"popup__buttons--disabled":o.sending}]),disabled:o.sending,onClick:e[14]||(e[14]=n=>r.sendEmail()),"aria-label":"Send Email"},i(t.$t("global.buttons.submit_form")),11,ke)])])],512),[[h,o.popup==1]]),l(s("div",we,[s("div",Te,[s("div",Se,i(t.$t("contact.popup.thank_you")),1),s("div",De,i(t.$t("contact.popup.form_confirmation_message")),1),s("div",je,[s("button",{class:"button button--secondary popup__buttons--close",onClick:e[15]||(e[15]=n=>o.popup=0),"aria-label":"Close"},i(t.$t("global.buttons.close")),1)])])],512),[[h,o.popup==2]])],64)}const Me=k(I,[["render",ze],["__scopeId","data-v-b67bf30a"]]);const Pe={components:{pageTitle:D,contactForm:Me},data(){return{}}},Ee={class:"contact"},$e={class:"contact-background-box"},qe={class:"contact-wrap"},Ve={class:"intro"},Ue={class:"intro__title font-3"},Ne={class:"intro__desc font-7"};function Ae(t,e,a,p,o,r){const n=x("page-title"),d=x("contact-form");return v(),b("div",Ee,[C(n,null,{default:$(()=>[w("CONTACT")]),_:1}),s("div",$e,[s("div",qe,[s("div",Ve,[s("h2",Ue,i(t.$t("contact.introduction.title")),1),s("article",Ne,i(t.$t("contact.introduction.description")),1)]),C(d)])])])}const Be=k(Pe,[["render",Ae],["__scopeId","data-v-813f8911"]]);export{Be as default};
